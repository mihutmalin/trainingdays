<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Challenge 04: Cognitive Services | Azure Developer College</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/trainingdays/assets/css/0.styles.307428eb.css" as="style"><link rel="preload" href="/trainingdays/assets/js/app.b06bf881.js" as="script"><link rel="preload" href="/trainingdays/assets/js/2.81a57b8d.js" as="script"><link rel="preload" href="/trainingdays/assets/js/49.22a70a9e.js" as="script"><link rel="prefetch" href="/trainingdays/assets/js/10.8aa4e002.js"><link rel="prefetch" href="/trainingdays/assets/js/11.6c32b278.js"><link rel="prefetch" href="/trainingdays/assets/js/12.a2c0ec84.js"><link rel="prefetch" href="/trainingdays/assets/js/13.b9874781.js"><link rel="prefetch" href="/trainingdays/assets/js/14.2d1a0beb.js"><link rel="prefetch" href="/trainingdays/assets/js/15.4ae16dbf.js"><link rel="prefetch" href="/trainingdays/assets/js/16.ab5cedd5.js"><link rel="prefetch" href="/trainingdays/assets/js/17.09663a80.js"><link rel="prefetch" href="/trainingdays/assets/js/18.bb7dd162.js"><link rel="prefetch" href="/trainingdays/assets/js/19.c957035c.js"><link rel="prefetch" href="/trainingdays/assets/js/20.55897641.js"><link rel="prefetch" href="/trainingdays/assets/js/21.960a13a6.js"><link rel="prefetch" href="/trainingdays/assets/js/22.7b4e7dfa.js"><link rel="prefetch" href="/trainingdays/assets/js/23.0304af00.js"><link rel="prefetch" href="/trainingdays/assets/js/24.0528a7fd.js"><link rel="prefetch" href="/trainingdays/assets/js/25.85775586.js"><link rel="prefetch" href="/trainingdays/assets/js/26.bb454217.js"><link rel="prefetch" href="/trainingdays/assets/js/27.43ac3bc1.js"><link rel="prefetch" href="/trainingdays/assets/js/28.c1cd225d.js"><link rel="prefetch" href="/trainingdays/assets/js/29.6a6ab3b2.js"><link rel="prefetch" href="/trainingdays/assets/js/3.a18b9373.js"><link rel="prefetch" href="/trainingdays/assets/js/30.b221134b.js"><link rel="prefetch" href="/trainingdays/assets/js/31.63066489.js"><link rel="prefetch" href="/trainingdays/assets/js/32.a0e5f097.js"><link rel="prefetch" href="/trainingdays/assets/js/33.6e1e6967.js"><link rel="prefetch" href="/trainingdays/assets/js/34.b123a4e2.js"><link rel="prefetch" href="/trainingdays/assets/js/35.bfc5c9b8.js"><link rel="prefetch" href="/trainingdays/assets/js/36.8f81a8d9.js"><link rel="prefetch" href="/trainingdays/assets/js/37.b2ef271d.js"><link rel="prefetch" href="/trainingdays/assets/js/38.94d23a5e.js"><link rel="prefetch" href="/trainingdays/assets/js/39.76c3ada1.js"><link rel="prefetch" href="/trainingdays/assets/js/4.46e179f0.js"><link rel="prefetch" href="/trainingdays/assets/js/40.1b6907ca.js"><link rel="prefetch" href="/trainingdays/assets/js/41.175067a2.js"><link rel="prefetch" href="/trainingdays/assets/js/42.fcd715f9.js"><link rel="prefetch" href="/trainingdays/assets/js/43.e0a79dc7.js"><link rel="prefetch" href="/trainingdays/assets/js/44.5d6f1912.js"><link rel="prefetch" href="/trainingdays/assets/js/45.a72fd4e2.js"><link rel="prefetch" href="/trainingdays/assets/js/46.ce08e72c.js"><link rel="prefetch" href="/trainingdays/assets/js/47.cd1e9d17.js"><link rel="prefetch" href="/trainingdays/assets/js/48.022b0535.js"><link rel="prefetch" href="/trainingdays/assets/js/5.6de87470.js"><link rel="prefetch" href="/trainingdays/assets/js/50.31446277.js"><link rel="prefetch" href="/trainingdays/assets/js/51.9f5b981f.js"><link rel="prefetch" href="/trainingdays/assets/js/52.78fb4c29.js"><link rel="prefetch" href="/trainingdays/assets/js/53.24d5a237.js"><link rel="prefetch" href="/trainingdays/assets/js/54.f2c9c3e0.js"><link rel="prefetch" href="/trainingdays/assets/js/55.06772243.js"><link rel="prefetch" href="/trainingdays/assets/js/56.17c84f94.js"><link rel="prefetch" href="/trainingdays/assets/js/57.41fb7541.js"><link rel="prefetch" href="/trainingdays/assets/js/58.1a73090f.js"><link rel="prefetch" href="/trainingdays/assets/js/59.5d19763d.js"><link rel="prefetch" href="/trainingdays/assets/js/6.2e51a08c.js"><link rel="prefetch" href="/trainingdays/assets/js/60.c7013e31.js"><link rel="prefetch" href="/trainingdays/assets/js/61.64c7126f.js"><link rel="prefetch" href="/trainingdays/assets/js/62.1aa81813.js"><link rel="prefetch" href="/trainingdays/assets/js/63.bc948e4c.js"><link rel="prefetch" href="/trainingdays/assets/js/64.81f08b99.js"><link rel="prefetch" href="/trainingdays/assets/js/65.9a6f5aad.js"><link rel="prefetch" href="/trainingdays/assets/js/66.e448846e.js"><link rel="prefetch" href="/trainingdays/assets/js/67.3a421e23.js"><link rel="prefetch" href="/trainingdays/assets/js/68.eeb366bd.js"><link rel="prefetch" href="/trainingdays/assets/js/69.cae14eba.js"><link rel="prefetch" href="/trainingdays/assets/js/7.fe50c077.js"><link rel="prefetch" href="/trainingdays/assets/js/70.1133a944.js"><link rel="prefetch" href="/trainingdays/assets/js/71.e3c444eb.js"><link rel="prefetch" href="/trainingdays/assets/js/72.bf6669e6.js"><link rel="prefetch" href="/trainingdays/assets/js/73.466c5ce0.js"><link rel="prefetch" href="/trainingdays/assets/js/74.9784cdc6.js"><link rel="prefetch" href="/trainingdays/assets/js/75.4cf894b7.js"><link rel="prefetch" href="/trainingdays/assets/js/76.ad634546.js"><link rel="prefetch" href="/trainingdays/assets/js/77.8a308f42.js"><link rel="prefetch" href="/trainingdays/assets/js/78.dc538259.js"><link rel="prefetch" href="/trainingdays/assets/js/79.c83c011f.js"><link rel="prefetch" href="/trainingdays/assets/js/8.6dc9f80b.js"><link rel="prefetch" href="/trainingdays/assets/js/80.e472639f.js"><link rel="prefetch" href="/trainingdays/assets/js/81.91c87fff.js"><link rel="prefetch" href="/trainingdays/assets/js/82.361db68e.js"><link rel="prefetch" href="/trainingdays/assets/js/83.d7e8fd3e.js"><link rel="prefetch" href="/trainingdays/assets/js/84.35d861ba.js"><link rel="prefetch" href="/trainingdays/assets/js/85.fccb11ad.js"><link rel="prefetch" href="/trainingdays/assets/js/86.c3a55ba5.js"><link rel="prefetch" href="/trainingdays/assets/js/87.3fd1c0ca.js"><link rel="prefetch" href="/trainingdays/assets/js/88.1e7e9273.js"><link rel="prefetch" href="/trainingdays/assets/js/89.0eb1fb10.js"><link rel="prefetch" href="/trainingdays/assets/js/9.e1d86148.js"><link rel="prefetch" href="/trainingdays/assets/js/90.d08748b3.js">
    <link rel="stylesheet" href="/trainingdays/assets/css/0.styles.307428eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/trainingdays/" class="home-link router-link-active"><!----> <span class="site-name">Azure Developer College</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/trainingdays/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/trainingdays/day1/" class="sidebar-link">Day 1 Azure Fundamentals &amp; Infrastructure</a></li><li><a href="/trainingdays/day2/" class="sidebar-link">Day 2 Azure Development</a></li><li><a href="/trainingdays/day3/" aria-current="page" class="sidebar-link">Day 3 Data and AI</a></li><li><a href="/trainingdays/day4/" class="sidebar-link">Day 4 DevOps and Monitoring</a></li><li><a href="/trainingdays/day5/" class="sidebar-link">Day 5 Identity and Architecture</a></li><li><a href="/trainingdays/day6/" class="sidebar-link">Day 6 Containerization</a></li><li><a href="/trainingdays/day7/" class="sidebar-link">Day 7 Kubernetes</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="challenge-04-cognitive-services"><a href="#challenge-04-cognitive-services" class="header-anchor">#</a> Challenge 04: Cognitive Services</h1> <p>‚è≤Ô∏è <em>Est. time to complete: 30 min.</em> ‚è≤Ô∏è</p> <h2 id="here-is-what-you-will-learn-üéØ"><a href="#here-is-what-you-will-learn-üéØ" class="header-anchor">#</a> Here is what you will learn üéØ</h2> <p>In this challenge you will learn how to:</p> <ul><li>create and use the Text Analysis Cognitive Service</li> <li>create and use the Translate Cognitive Service</li></ul> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table Of Contents</h2> <ol><li><a href="#what-are-azure-cognitive-services">What are Azure Cognitive Services?</a></li> <li><a href="#create-and-use-a-text-analysis-cognitive-service">Create and use a Text Analysis Cognitive Service</a></li> <li><a href="#create-and-use-the-translate-cognitive-service">Create and use the Translate Cognitive Service</a></li> <li><a href="#cleanup">Cleanup</a></li></ol> <h2 id="what-are-azure-cognitive-services"><a href="#what-are-azure-cognitive-services" class="header-anchor">#</a> What are Azure Cognitive Services?</h2> <p>Azure Cognitive Services:</p> <ul><li>are APIs, SDKs and services available to help developers build intelligent applications without having direct Artificial Intelligence (AI), data science skills or knowledge.</li> <li>enable developers to easily add cognitive features into their applications.</li> <li>The goal of Azure Cognitive Services is to help developers create applications that can see, hear, speak, understand and even begin to reason.</li> <li>The catalog of services within Azure Cognitive Services can be categorized into five main pillars - <em>Vision</em>, <em>Speech</em>, <em>Language</em>, <em>Web Search</em>, and <em>Decision</em>.</li></ul> <p>In this challenge we will focus on the following Cognitive Services:</p> <table><thead><tr><th style="text-align:left;">Service Name</th> <th style="text-align:left;">Service Description</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://docs.microsoft.com/azure/cognitive-services/text-analytics/" title="Text Analytics" target="_blank" rel="noopener noreferrer">Text Analytics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Text Analytics provides natural language processing over raw text for sentiment analysis, key phrase extraction and language detection.</td></tr> <tr><td style="text-align:left;"><a href="https://docs.microsoft.com/azure/cognitive-services/translator/" title="Translator Text" target="_blank" rel="noopener noreferrer">Translator Text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Translator text provides for machine-based text translation in near real-time.</td></tr></tbody></table> <h2 id="create-and-use-a-text-analysis-cognitive-service"><a href="#create-and-use-a-text-analysis-cognitive-service" class="header-anchor">#</a> Create and use a Text Analysis Cognitive Service</h2> <p>You can solve these tasks in a programming language of your choice. For the sake of convenience, we are providing hints in <code>Node.js</code>. SDK support for <code>C#</code> or <code>.NET Core</code> is also available.</p> <table><thead><tr><th>Azure Cognitive Services</th> <th>Information</th></tr></thead> <tbody><tr><td><a href="https://azure.microsoft.com/services/cognitive-services/text-analytics/" target="_blank" rel="noopener noreferrer">Text Analytics API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://docs.microsoft.com/azure/cognitive-services/text-analytics/quickstarts/nodejs" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/azure/cognitive-services/text-analytics/quickstarts/nodejs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>We will now leverage the <em>Text Analytics API</em> for extracting language, sentiment, key phrases, and entities from text. When creating the service, please use a new resource group, e.g. <strong>rg-azdc-cognitive</strong>. As a <strong>Pricing Tier</strong>, select the smallest possible in the chosen region. You can choose as a name for the resource <strong>cog-textanalytics-westeurope-001</strong> as we learned on day1.</p> <p>Go to the Azure Portal, create a Text Analytics Service (in the <code>West Europe</code> region):</p> <p><img src="/trainingdays/assets/img/CreateTA.cb180804.png" alt="Create Text Analytics Service"></p> <p>We then skip the next view <em>Select additional features</em> and hit the button <strong>Skip this step</strong></p> <p><img src="/trainingdays/assets/img/detailscreateta.3978b7bd.png" alt="Details of Creating the Text Analytics Service"></p> <p>Then we hit <strong>Review + Create</strong> and create the resource.</p> <h3 id="extract-sentiment-key-phrases-and-entities-from-unstructured-text"><a href="#extract-sentiment-key-phrases-and-entities-from-unstructured-text" class="header-anchor">#</a> Extract sentiment, key phrases and entities from unstructured text</h3> <h4 id="detect-language"><a href="#detect-language" class="header-anchor">#</a> Detect language</h4> <p>The Language Detection API detects the language of a text document, using the <a href="https://westcentralus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-v2-1/operations/56f30ceeeda5650db055a3c7" target="_blank" rel="noopener noreferrer">Detect Language method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>So, let's create a sample application:</p> <ul><li>Create a new folder <strong>azdc-cognitive</strong> on you machine and start a new Node.JS project.
<ul><li>run <code>npm init</code> on the command line and accept all options the wizard proposes</li></ul></li> <li>Open Visual Studio Code by typing <code>code .</code></li> <li>Add the code provided below to a new <code>detect.js</code> file.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> subscription_key <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-key-here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> endpoint <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-endpoint-here&gt;'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">'/text/analytics/v3.1/languages'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">response_handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        body <span class="token operator">+=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> body_ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> body__ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>body_<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">get_language</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">documents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> request_params <span class="token operator">=</span> <span class="token punctuation">{</span>
        method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        hostname<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">,</span>
        path<span class="token operator">:</span> path<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'Ocp-Apim-Subscription-Key'</span><span class="token operator">:</span> subscription_key<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>request_params<span class="token punctuation">,</span> response_handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> documents <span class="token operator">=</span> <span class="token punctuation">{</span>
    documents<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'This is a document written in English.'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'Este es un document escrito en Espa√±ol.'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'ËøôÊòØ‰∏Ä‰∏™Áî®‰∏≠ÊñáÂÜôÁöÑÊñá‰ª∂'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">get_language</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Copy your Azure Cognitive Services Account <strong>key and endpoint</strong> into the code. You can find both on the <em>Overview</em> or <em>Quickstart</em> view in the Cognitive Services Account</li></ul> <p>You are all set. Now run the program from a terminal, change into the directory where the code is and run <code>node detect.js</code>.</p> <p>After a few seconds, a successful response is returned in JSON, as shown in the following example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;documents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;detectedLanguages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;English&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;iso6391Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;detectedLanguages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Spanish&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;iso6391Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;detectedLanguages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chinese_Simplified&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;iso6391Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zh_chs&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="analyze-sentiment"><a href="#analyze-sentiment" class="header-anchor">#</a> Analyze sentiment</h4> <p>The Sentiment Analysis API detects the sentiment of a set of text records, using the <a href="https://westcentralus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-v2-1/operations/56f30ceeeda5650db055a3c9" target="_blank" rel="noopener noreferrer">Sentiment method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Sentiment analysis can be used to find out what customers think of your brand or topic by analyzing raw text for clues about positive or negative sentiment. The following example provides scores for two documents, one in English and another one in Spanish.</p> <ul><li>Go back to Visual Studio Code.</li> <li>Add the code provided below to a new <code>sentiment.js</code> file.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> subscription_key <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-key-here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> endpoint <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-endpoint-here&gt;'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">'/text/analytics/v3.1/sentiment'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">response_handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        body <span class="token operator">+=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> body_ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> body__ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>body_<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">get_sentiments</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">documents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> request_params <span class="token operator">=</span> <span class="token punctuation">{</span>
        method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        hostname<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">,</span>
        path<span class="token operator">:</span> path<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'Ocp-Apim-Subscription-Key'</span><span class="token operator">:</span> subscription_key<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>request_params<span class="token punctuation">,</span> response_handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> documents <span class="token operator">=</span> <span class="token punctuation">{</span>
    documents<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
            language<span class="token operator">:</span> <span class="token string">'en'</span><span class="token punctuation">,</span>
            text<span class="token operator">:</span> <span class="token string">'I really enjoy the new XBox One S. It has a clean look, it has 4K/HDR resolution and it is affordable.'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
            language<span class="token operator">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
            text<span class="token operator">:</span> <span class="token string">'Este ha sido un dia terrible, llegu√© tarde al trabajo debido a un accidente automobilistico.'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">get_sentiments</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Copy your Cognitive Services Account key and endpoint into the code - as done before.</li></ul> <p>You are all set. Now run the program from a terminal, change into the directory where the code is and run <code>node sentiment.js</code>.</p> <p>The result is measured as positive if it's scored closer to 1.0 and negative if it's scored closer to 0.0.
A successful response is returned in JSON, as shown in the following example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;documents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sentiment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;positive&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;confidenceScores&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;positive&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;neutral&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;negative&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sentences&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;sentiment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;positive&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;confidenceScores&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;positive&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;neutral&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;negative&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span>
          <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;I really enjoy the new XBox One S. It has a clean look, it has 4K/HDR resolution and it is affordable.&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;warnings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sentiment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;negative&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;confidenceScores&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;positive&quot;</span><span class="token operator">:</span> <span class="token number">0.02</span><span class="token punctuation">,</span>
        <span class="token property">&quot;neutral&quot;</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span>
        <span class="token property">&quot;negative&quot;</span><span class="token operator">:</span> <span class="token number">0.93</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sentences&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;sentiment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;negative&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;confidenceScores&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;positive&quot;</span><span class="token operator">:</span> <span class="token number">0.02</span><span class="token punctuation">,</span>
            <span class="token property">&quot;neutral&quot;</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span>
            <span class="token property">&quot;negative&quot;</span><span class="token operator">:</span> <span class="token number">0.93</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token number">92</span><span class="token punctuation">,</span>
          <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Este ha sido un dia terrible, llegu√© tarde al trabajo debido a un accidente automobilistico.&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;warnings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;modelVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-04-01&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="identify-linked-entities"><a href="#identify-linked-entities" class="header-anchor">#</a> Identify linked entities</h4> <p>The <a href="https://docs.microsoft.com/azure/cognitive-services/text-analytics/how-tos/text-analytics-how-to-entity-linking" target="_blank" rel="noopener noreferrer">Entities API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> identifies well-known entities in a text document, using the <a href="https://westus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-V3-1/operations/EntitiesRecognitionGeneral" target="_blank" rel="noopener noreferrer">Entities Recognition method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://westus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-V3-1/operations/EntitiesLinking" target="_blank" rel="noopener noreferrer">Entities Linking method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It extracts words from text, like &quot;United States&quot;, then give you the type and/or Wikipedia link for this word(s). The type for &quot;United States&quot; would be <code>location</code>, while the link to Wikipedia is <code>https://en.wikipedia.org/wiki/United_States</code>. The following example identifies entities for English documents.</p> <ul><li>Go back to Visual Studio Code.</li> <li>Add the code provided below to a new <code>entities.js</code> file.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> subscription_key <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-key-here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> endpoint <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-analytics-endpoint-here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> path_linking <span class="token operator">=</span> <span class="token string">'/text/analytics/v3.1/entities/linking'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> path_recognition <span class="token operator">=</span> <span class="token string">'/text/analytics/v3.1/entities/recognition/general'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">response_handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        body <span class="token operator">+=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> body_ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> body__ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>body_<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">get_entities_linking</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">documents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> request_params <span class="token operator">=</span> <span class="token punctuation">{</span>
        method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        hostname<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">,</span>
        path<span class="token operator">:</span> path_linking<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'Ocp-Apim-Subscription-Key'</span><span class="token operator">:</span> subscription_key<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>request_params<span class="token punctuation">,</span> response_handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">get_entities_recognition</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">documents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> request_params <span class="token operator">=</span> <span class="token punctuation">{</span>
        method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        hostname<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">,</span>
        path<span class="token operator">:</span> path_recognition<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'Ocp-Apim-Subscription-Key'</span><span class="token operator">:</span> subscription_key<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>request_params<span class="token punctuation">,</span> response_handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> documents <span class="token operator">=</span> <span class="token punctuation">{</span>
    documents<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> language<span class="token operator">:</span> <span class="token string">'en'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'Microsoft is an It company.'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">get_entities_linking</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">get_entities_recognition</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Copy your Cognitive Services Account key and endpoint into the code - as done before.</li></ul> <p>You are all set. Now run the program from a terminal, change into the directory where the code is and run <code>node entities.js</code>.</p> <p>A successful response is returned in JSON (for <em>lining</em> and <em>recognition</em> endpoints), as shown in the following example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;documents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;bingId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a093e9b9-90f5-a3d5-c4b8-5855e1b01f85&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;matches&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
              <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
              <span class="token property">&quot;confidenceScore&quot;</span><span class="token operator">:</span> <span class="token number">0.26</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://en.wikipedia.org/wiki/Microsoft&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;dataSource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Wikipedia&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;bingId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bc30426e-22ae-7a35-f24b-454722a47d8f&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Technology company&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;matches&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;It company&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;offset&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
              <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
              <span class="token property">&quot;confidenceScore&quot;</span><span class="token operator">:</span> <span class="token number">0.84</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Technology company&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://en.wikipedia.org/wiki/Technology_company&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;dataSource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Wikipedia&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;warnings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;modelVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-06-01&quot;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;documents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Organization&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
          <span class="token property">&quot;confidenceScore&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;warnings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;modelVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-06-01&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="create-and-use-the-translate-cognitive-service"><a href="#create-and-use-the-translate-cognitive-service" class="header-anchor">#</a> Create and use the Translate Cognitive Service</h2> <p>There is also a Cognitive Service that let's you translate text &quot;on-the-fly&quot; with just a simple request - same as for the Text Analysis service used before.</p> <ul><li><p>To use the Translation Service, you need to create a &quot;Translator Text&quot; resource in Azure. please go back to the Portal, click on &quot;Create a resource&quot; and search for &quot;Text Translator&quot;. Create such a service, giving it a globally unique name and choosing the lowest &quot;Pricing Tier&quot; available. Please choose again the naming convention as before: <strong>cog-translate-westeurope-001</strong></p> <p><img src="/trainingdays/assets/img/TTCreateDetails.22178c58.png" alt="Translator Text API Details"></p></li> <li><p>Now, back in Visual Studio Code, add a new JavaScript file called <code>translate-text.js</code>.</p> <ul><li>Add the code provided below:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> subscription_key <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-translator-key-here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> endpoint <span class="token operator">=</span> <span class="token string">'https://api.cognitive.microsofttranslator.com'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> region <span class="token operator">=</span> <span class="token string">'&lt;paste-your-text-translator-service-region here&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">'/translate?api-version=3.0&amp;to=es&amp;to=it'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">response_handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        body <span class="token operator">+=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> body_ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> body__ <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>body_<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">translate_text</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">documents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> request_params <span class="token operator">=</span> <span class="token punctuation">{</span>
        method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        hostname<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">,</span>
        path<span class="token operator">:</span> path<span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'Ocp-Apim-Subscription-Key'</span><span class="token operator">:</span> subscription_key<span class="token punctuation">,</span>
            <span class="token string">'Ocp-Apim-Subscription-Region'</span><span class="token operator">:</span> region<span class="token punctuation">,</span>
            <span class="token string">'Content-type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>request_params<span class="token punctuation">,</span> response_handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> documents <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'Hello World! We hope you enjoy your day here at the Microsoft office in Munich!'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">translate_text</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Copy your Text Translator Account <strong>key</strong> into the code - as done before.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>üìù The endpoint is already predefined. <strong><em>No</em></strong> need to change it.*</p></div></li></ul> <p>You are all set. Now run the program from a terminal, change into the directory where the code is and run <code>node translate-text.js</code>.</p> <p>A successful response is returned in JSON, as shown in the following example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;detectedLanguage&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;translations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;¬°Hola mundo! ¬°Esperamos que disfrute de su d√≠a aqu√≠ en la oficina de Microsoft en M√∫nich!&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Salve, mondo! Speriamo che vi piaccia la vostra giornata qui presso l'ufficio Microsoft a Monaco di Baviera!&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;it&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="azure-samples"><a href="#azure-samples" class="header-anchor">#</a> Azure Samples</h2> <p>Cognitive Services code samples:</p> <ul><li><a href="https://github.com/Azure-Samples/cognitive-services-quickstart-code" target="_blank" rel="noopener noreferrer">https://github.com/Azure-Samples/cognitive-services-quickstart-code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>For more Details on Cognitive Services or Azure Machine Learning Services visit the <strong>AI Developer College:</strong> <a href="https://github.com/aidevcollege/aidevcollege" target="_blank" rel="noopener noreferrer">https://github.com/aidevcollege/aidevcollege<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="cleanup"><a href="#cleanup" class="header-anchor">#</a> Cleanup</h2> <p>Remove the sample resource group.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>az group delete -n rg-azdc-cognitive
</code></pre></div><p><a href="/trainingdays/day3/challenges/04-challenge-bo-1.html">‚óÄ Previous challenge</a> | <a href="/trainingdays/day3/" class="router-link-active">üîº Day 3</a> | <a href="/trainingdays/day3/challenges/06-challenge-bo-2.html">Next challenge ‚ñ∂</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azuredevcollege/trainingdays/edit/master/day3/challenges/05-challenge-cognitive-services.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/trainingdays/assets/js/app.b06bf881.js" defer></script><script src="/trainingdays/assets/js/2.81a57b8d.js" defer></script><script src="/trainingdays/assets/js/49.22a70a9e.js" defer></script>
  </body>
</html>
